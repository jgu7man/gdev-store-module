<mat-card>
    <mat-card-header>
        <mat-card-title>Finalizar Compra</mat-card-title>
        <mat-card-subtitle>Llena tus datos para finalizar la compra</mat-card-subtitle>
    </mat-card-header>
    <form (ngSubmit)="onSubmit()" #form="ngForm">
        <mat-card-content>
            
            <ng-container *ngIf="!cliente; else unAuth">
                <mat-form-field>
                    <mat-label>Nombre completo</mat-label>
                    <input matInput type="text" name="nombre" id="nombre" [(ngModel)]="cliente.nombre">
                    <mat-error *ngIf="payForm.invalid">{{getErrorMessage()}}</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>Celular</mat-label>
                    <input matInput type="text" name="celular" id="celular" [(ngModel)]="cliente.celular">
                    <mat-error *ngIf="payForm.invalid">{{getErrorMessage()}}</mat-error>
                </mat-form-field>
            </ng-container>



            <ng-template #unAuth class="center">
                <div class="row">
                    <div class="col s12 center">
                        <p>Necesitas crear una cuenta o iniciar sesi√≥n</p>
                        <a mat-button [routerLink]="['/cuenta']"> REGISTRARSE</a>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        <app-login-form></app-login-form>
                    </div>
                </div>
            </ng-template>
            
        </mat-card-content>
        <mat-card-actions >
            <mat-card-subtitle >Total a pagar</mat-card-subtitle>
            <mat-card-title>${{total_pagar}}</mat-card-title>
            <button mat-raised-button [color]="'primary'">Pagar</button>
        </mat-card-actions>
    </form>
</mat-card>